<html>
<style>
.controls{
  width:200px;
   height:500px; 
   background-color:#FFFFFF; 
   opacity: 0.7;
   position: absolute;
   text-align: center
}
.control-dd{
  margin:auto;
  width:160px;

}
.color-menu{
  display:none;
}
body{margin:0px; padding:0px;}
</style>
<body>

<div class="controls"">
<h3>
Controls
</h3>
Object: <select id='obj-dd'>
<option value="random">random</option>
<option value="sphere">sphere</option>
<option value="cube">cube</option>
<option value="torus">torus</option>
<option value="bunny">bunny</option>
<option value="monkey">monkey</option>
<option value="statue">statue</option>
</select><br>
Size: <input type="range" min="1" max="10" value="4" class="slider" id="size" style = 'width: 50%'> <br>
Density: <input type="range" min="3" max="1000" value="50" class="slider" id="num" style = 'width: 50%'> <br>
Color: <select id='color-dd'>
<option value="random">Random</option>
<option value="one">One</option>
<option value="range">Color Range</option>
</select><br>
<div id = "choose-one-color" class = "color-menu">
Color 1 <input type="text" name="" id="disp-1-1" class='jscolor'><br>
<button id="generate-1">Generate Color</button>
</div>
<div id = "choose-two-color" class = "color-menu">
Color 1 <input type="text" name="" id="disp-2-1"  class='jscolor'><br>
Color 2 <input type="text" name="" id="disp-2-2"  class='jscolor'><br>
<button id="generate-2">Generate Colors</button>

</div>
Opacity: <input type="range" min="1" max="10" value="3" class="slider" id="opacity" style = 'width: 50%'> <br>
Blending: <select id='blend-dd'>
<option value="add">Additive</option>
<option value="none">No Blending</option>

</select> <br>

</div>
  
</body>


<script src="three.js"></script>
<script src="GeometryUtils.js"></script>
<script src="OBJloader.js"></script>
<script src="MTLloader.js"></script>
<script src="shapes.js"></script>
<script src="jscolor.min.js"></script>
<script src="color.js"></script>
<script src="ShaderLoader.js"></script>

<script
  src="https://code.jquery.com/jquery-3.2.1.js"
  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
  crossorigin="anonymous"></script>
<script src="scene.js"></script>


<script>
$("#obj-dd").on("change", function(){

  obj = $(this).val();
  if(obj == "random"){random = true;} 
  else if (obj == "sphere"){
    random = false;
    start = sphereTexture;
    setInt(sphereTexture);
  }
  else if (obj == "cube"){
    random = false;
    start = cubeTexture
    setInt(cubeTexture);
  }
  else if (obj == "torus"){
    random = false;
    start = torusTexture
    setInt(torusTexture);
  }
  else if (obj == "bunny"){
    random = false;
    start = bunnyTexture
    setInt(bunnyTexture);
  }
  else if (obj == "monkey"){
    random = false;
    start = monkeyTexture
    setInt(monkeyTexture);
  }
  else if (obj == "statue"){
    random = false;
    start = statueTexture
    setInt(statueTexture);
  }
 
})
$("#size").on("change", function(){
  particalesMat.uniforms.size.value  = $(this).val();
  size = $(this).val();
})
$("#opacity").on("change", function(){
  particalesMat.uniforms.opacity.value  = parseInt($(this).val())/10;
  opacity =  parseInt($(this).val())/10;
})
$("#num").on("change", function(){
  numPoints = $(this).val();
  SIZE  = numPoints;

  initTextures()
})
$("#color-dd").on("change", function(){
  var val = $(this).val();
  if(val == "random"){
    $(".color-menu").hide();
    ramp = createRandomRamp();
    initTextures();
  }
  if(val == "one"){
    $(".color-menu").hide();
    $("#choose-one-color").show();
  }
  if(val == "range"){
    $(".color-menu").hide();
    $("#choose-two-color").show();
  }

  

})
$("#blend-dd").on("change", function(){
  var val = $(this).val();
  if(val =="add"){
    particalesMat.blending = THREE.AdditiveBlending
  }
  if(val == "none"){
    particalesMat.blending = THREE.NoBlending
  }
})
$("#generate-1").on("click", function(){
  var val = $("#disp-1-1").val();
  ramp = createRandomRampOne(val);
  initTextures()
})
$("#generate-2").on("click", function(){
  var val1 = $("#disp-2-1").val();
  var val2 = $("#disp-2-2").val();

  ramp = createLABRamp(val1, val2, 24);
  for (var i = 0 ;i < ramp.length ; i++){
    ramp[i].r /= 255;
    ramp[i].g /= 255;
    ramp[i].b /= 255;

  }
  initTextures();
})

</script>

</body>
</html>
